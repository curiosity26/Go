!function(n){"use strict";var e={},t=function(n){var r=this instanceof t?this:Object.create(t.prototype),i=[],o=-1,c=null,u=null,s=null,a=t.Injector(),f=a.invoke(t.Provider(),r);return r.registerModules=function(n){if(n instanceof Array)for(var t=0;t<n.length;t++){var r=n[t];if(!e.hasOwnProperty(r))throw new Error("Unabled to find module: "+r);a.invoke(e[r])}},r.stopped=!1,r.provider=function(n,e){return f.provider(n,e),r},r.factory=function(n,e){return f.factory(n,e),self},r.service=function(n,e){return f.service(n,e),r},r.value=function(n,e){return f.value(n,e),r},r.constant=function(n,e){return f.constant(n,e),r},r.add=function(n){return n&&n.$run&&i.push(n),r},r.run=function(n){return(n&&n instanceof Function||n instanceof Array)&&i.push({$run:n,$delay:0}),r},r.start=function(){return r.stopped=!1,r.next()},r.stop=function(){return r.stopped=!0,r},r.next=function(){if(arguments.length>0)throw new Error(arguments[0]);if(!self.stopped){++o;try{var n=i[o];if(n){var e=function(n,e){a.invoke(n,this,{next:e}),-1===a.annotate(n).indexOf("next")&&e()};setTimeout(e.bind(r,n.$run,r.next),n.$delay||0)}else c instanceof Function&&a.invoke(success,r),s instanceof Function&&s()}catch(t){u instanceof Function&&a.invoke(failure,r,{$error:t}),s instanceof Function&&a.invoke(cb,r)}}return r},r.then=function(n,e){return c=n,u=e,r},r["finally"]=function(n){return s=n,r},f.service("$extend",t.Extend),f.value("$go",r),r.registerModules(n),r};t.Extend=function(){return{$get:function(){var n=Array.prototype.slice.call(arguments);if(n.length>1){var e=n.splice(-1).pop(),r=n.splice(-1).pop();for(var i in e)r.hasOwnProperty(i)?r[i]=t.extend(r[i],e[i]):r[i]=e[i];return n.length>0?(n.push(r),t.extend.apply(null,n)):r}return n[0]}}},t.Injector=function(n){var e=this instanceof t.Injector?this:Object.create(t.Injector.prototype),r={};return e.$services=n||{},e.$services.hasOwnProperty("$injector")||(e.$services.$injector={$get:function(){return e}}),e.invoke=function(n,t,r){var i=n instanceof Array&&n[n.length-1]||n;if(!(i instanceof Function))throw new Error("Could not find the function to inject into");o=e.annotate(n);var o,c,u,s=[];if(o&&o instanceof Array){var a=[];for(c=0;c<o.length;c++)if(u=o[c],"string"==typeof u){if(r&&r[u]){s.push(r[u]);continue}if(e.has(u)){s.push(e.get(u));continue}a.push(o[c])}if(a.length>0)throw new Error("Unable to find required services: "+a.join(", "))}return i.apply(t,s)},e.instantiate=function(n,t){var r=Object.create((n instanceof Array?n[n.length-1]:n).prototype||null),i=e.invoke(n,r,t);return null!==i&&"object"==typeof i||i instanceof Function?i:r},e.has=function(n){return e.$services.hasOwnProperty(n)||e.$services.hasOwnProperty(n+"Provider")},e.get=function(n,t){if(r[n])return r[n];if(r[n+"Provider"])return r[n]=e.invoke(r[n+"Provider"]);if(e.$services[n]||e.$services[n+"Provider"]){var i=e.$services[n+"Provider"],o=i?r[n+"Provider"]=e.invoke(i):e.$services[n],c=!!o.$get&&o.$get||e.instantiate(o).$get;return r[n]=e.invoke(c,!!t&&t)}throw new Error("Unable to find variable or service with the name: "+n)},e.annotate=function(n,e){if(n instanceof Array&&n[n.length-1]&&n[n.length-1]instanceof Function){var t=n.slice(-1);return t.$inject=n.slice(0,n.length-1),t.$inject}if(n.$inject&&n.$inject instanceof Array)return n.$inject;if(n instanceof Function&&!e){var r=n.toString().match(/^function\s?\((.*?)\)/);r[1]&&(n.$inject=r[1].split(/,\s?/))}return[]},e},t.Provider=function(){var n=function(e){var t=this instanceof n?this:Object.create(n.prototype),r=function(n,t){e.$services[n]=t},i=function(n){return Function.prototype.bind.call(function(){return this},n)};return t.provider=function(n,e){return e instanceof Function?r(n+"Provider",{$get:e}):!!e.$get instanceof Function&&r(n+"Provider",e),t},t.factory=function(n,e){return r(n,e),t},t.service=function(n,e){return r(n,{$get:e}),t},t.value=function(n,e){return t.service(n,i(e)),t},t.constant=function(n,r){return e.$services.hasOwnProperty(n)||t.service(n,i(r)),t},t.value("$provide",t),t};return n.$inject=["$injector"],n},t.Module=function(n,r){var i,o=this instanceof t.Module?this:Object.create(t.Module.prototype),c={},u={},s={},a={},f={},v=function(n,t){for(var o,l=this instanceof v?v:Object.create(v.prototype),p=0;p<r.length;p++){if(o=r[p],!e[o])throw new Error("Unable to find module "+o);n.invoke(e[o])}for(o in c)t.provider(o,c[o]);for(o in u)t.service(o,u[o]);for(o in s)t.factory(o,s[o]);for(o in a)t.value(o,a[o]);for(o in f)t.constant(o,f[o]);return i&&n.invoke(i),l};return v.$inject=["$injector","$provide"],o.config=function(n){i=n},o.service=function(n,e){u[n]=e},o.provider=function(n,e){c[n]=e},o.factory=function(n,e){s[n]=e},o.value=function(n,e){a[n]=e},o.constant=function(n,e){f[n]||(f[n]=e)},e[n]=v,o},n.Go=t}(module.exports);